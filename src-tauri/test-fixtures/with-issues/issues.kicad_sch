(kicad_sch (version 20231120) (generator "eeschema") (generator_version "8.0")
  (uuid "00000000-0000-0000-0000-000000000002")

  (paper "A4")

  (lib_symbols)

  ; IC without decoupling capacitor - ISSUE: needs 100nF decoupling cap
  (symbol (lib_id "MCU_ST_STM32F4:STM32F401CCU6") (at 150.0 100.0 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000001-0000-0000-0000-000000000001")
    (property "Reference" "U1" (at 151.6 98.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "STM32F401CCU6" (at 151.6 101.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Package_QFP:LQFP-48_7x7mm_P0.5mm" (at 148.552 100.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000001-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000001-0000-0000-0000-000000000012"))
    (pin "3" (uuid "10000001-0000-0000-0000-000000000013"))
  )

  ; I2C labels without pull-up resistors - ISSUE: needs 4.7k pull-ups
  (global_label "SDA" (at 200.0 80.0 0) (shape bidirectional)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "10000002-0000-0000-0000-000000000001")
  )

  (global_label "SCL" (at 200.0 90.0 0) (shape bidirectional)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "10000002-0000-0000-0000-000000000002")
  )

  ; Crystal without load capacitors - ISSUE: needs two 22pF caps
  (symbol (lib_id "Device:Crystal") (at 180.0 120.0 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000003-0000-0000-0000-000000000001")
    (property "Reference" "Y1" (at 181.6 118.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "8MHz" (at 181.6 121.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Crystal:Crystal_HC49-4H_Vertical" (at 178.552 120.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000003-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000003-0000-0000-0000-000000000012"))
  )

  ; USB connector without ESD protection - ISSUE: needs TVS diode
  (symbol (lib_id "Connector:USB_B_Micro") (at 50.0 100.0 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000004-0000-0000-0000-000000000001")
    (property "Reference" "J1" (at 51.6 98.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "USB_B_Micro" (at 51.6 101.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Connector_USB:USB_Micro-B_Molex_47346-0001" (at 48.552 100.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000004-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000004-0000-0000-0000-000000000012"))
    (pin "3" (uuid "10000004-0000-0000-0000-000000000013"))
    (pin "4" (uuid "10000004-0000-0000-0000-000000000014"))
    (pin "5" (uuid "10000004-0000-0000-0000-000000000015"))
  )

  ; Voltage regulator without bulk capacitor - ISSUE: needs 22uF or larger
  (symbol (lib_id "Regulator_Linear:AMS1117-3.3") (at 80.0 50.0 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000005-0000-0000-0000-000000000001")
    (property "Reference" "U2" (at 81.6 48.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "AMS1117-3.3" (at 81.6 51.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-223-3_TabPin2" (at 78.552 50.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000005-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000005-0000-0000-0000-000000000012"))
    (pin "3" (uuid "10000005-0000-0000-0000-000000000013"))
  )

  ; Some resistors for other purposes (not pull-ups)
  (symbol (lib_id "Device:R") (at 100.0 150.0 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000006-0000-0000-0000-000000000001")
    (property "Reference" "R1" (at 101.6 148.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "100" (at 101.6 151.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric" (at 98.552 150.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000006-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000006-0000-0000-0000-000000000012"))
  )

  ; Some capacitors (wrong values for issues)
  (symbol (lib_id "Device:C") (at 120.0 150.0 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid "10000007-0000-0000-0000-000000000001")
    (property "Reference" "C1" (at 121.6 148.53 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "1uF" (at 121.6 151.07 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0402_1005Metric" (at 118.552 150.0 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid "10000007-0000-0000-0000-000000000011"))
    (pin "2" (uuid "10000007-0000-0000-0000-000000000012"))
  )

  ; Wires
  (wire (pts (xy 50 100) (xy 80 100))
    (uuid "10000008-0000-0000-0000-000000000001")
  )

  (wire (pts (xy 150 100) (xy 180 100))
    (uuid "10000008-0000-0000-0000-000000000002")
  )

  ; No GND symbol - ISSUE: missing GND
)
